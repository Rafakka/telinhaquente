package br.com.telinhaquente.controller;

import br.com.logos.telinhaquente.model.DadosDeMidia;
import br.com.logos.telinhaquente.service.ConsumoApi;
impor org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping("/midia")
public class MidiaController {

    @service
    private final ConsumoApi consumoApi = new ConsumoApi();

    @Autowired
    private OmdbProperties omdbProperties;
    @GetMapping
    public DadosDeMidia buscarMidia(@RequestParam String titulo) {
        String endereco = "http://www.omdbapi.com/?t=" + titulo.replace(" ", "+") + "&omdbProperties.getKey()";
        return consumoApi.obterDados(endereco);
    }
}